<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV Analytics Admin</title>
    <style>
        :root {
            --primary-color: #00FF00;
            --secondary-color: #008000;
            --bg-color: #000000;
            --card-bg: #111111;
            --text-color: #e0e0e0;
            --border-color: #333333;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow-x: hidden;
        }
        
        .container {
            display: flex;
            min-height: 100vh;
        }
        
        /* Sol Panel */
        .left-panel {
            width: 30%;
            background-color: var(--card-bg);
            padding: 20px;
            border-right: 1px solid var(--border-color);
            overflow-y: auto;
        }
        
        .login-section {
            background-color: #1a1a1a;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            border: 1px solid var(--border-color);
        }
        
        .login-section input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            background-color: #222;
            border: 1px solid var(--border-color);
            color: var(--text-color);
            border-radius: 3px;
        }
        
        .login-section button {
            width: 100%;
            padding: 10px;
            background-color: var(--primary-color);
            color: #000;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .session-section, .heatmap-section, .simulation-section, .stats-section {
            background-color: #1a1a1a;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            border: 1px solid var(--border-color);
        }
        
        h2 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        
        select {
            width: 100%;
            padding: 10px;
            background-color: #222;
            border: 1px solid var(--border-color);
            color: var(--text-color);
            border-radius: 3px;
            margin-bottom: 10px;
        }
        
        .checkbox-group {
            margin: 10px 0;
        }
        
        .checkbox-group label {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            cursor: pointer;
        }
        
        .checkbox-group input {
            margin-right: 10px;
        }
        
        .simulation-controls {
            display: flex;
            gap: 10px;
        }
        
        .simulation-controls button {
            flex: 1;
            padding: 10px;
            background-color: var(--primary-color);
            color: #000;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .simulation-controls button:last-child {
            background-color: #ff4444;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        .stat-card {
            background-color: #222;
            padding: 10px;
            border-radius: 3px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: #aaa;
        }
        
        .session-info {
            margin-top: 15px;
            padding: 10px;
            background-color: #222;
            border-radius: 3px;
            font-size: 0.9rem;
        }
        
        .session-info p {
            margin-bottom: 5px;
        }
        
        /* Sağ Panel */
        .right-panel {
            width: 70%;
            padding: 20px;
            position: relative;
        }
        
        .cv-container {
            width: 100%;
            height: 100%;
            background-color: white;
            border-radius: 5px;
            overflow: auto;
            position: relative;
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.2);
        }
        
        .heatmap-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10;
        }
        
        .heatmap-point {
            position: absolute;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }
        
        .click-point {
            background-color: rgba(255, 0, 0, 0.7);
            width: 12px;
            height: 12px;
            box-shadow: 0 0 5px rgba(255, 0, 0, 0.5);
        }
        
        .movement-point {
            background-color: rgba(0, 255, 0, 0.3);
            width: 8px;
            height: 8px;
        }
        
        .selection-highlight {
            background-color: rgba(255, 255, 0, 0.4);
            position: absolute;
            border-radius: 2px;
        }
        
        .copy-highlight {
            background-color: rgba(255, 165, 0, 0.4);
            position: absolute;
            border-radius: 2px;
        }
        
        .cursor {
            position: absolute;
            width: 15px;
            height: 15px;
            background-color: var(--primary-color);
            border-radius: 50%;
            box-shadow: 0 0 5px var(--primary-color);
            transform: translate(-50%, -50%);
            z-index: 20;
            pointer-events: none;
            transition: all 0.1s ease;
        }
        
        .cursor::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background-color: #000;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(0, 0, 0, 0.8);
            color: var(--primary-color);
            padding: 5px 10px;
            border-radius: 3px;
            font-size: 0.8rem;
            z-index: 30;
            pointer-events: none;
            white-space: nowrap;
            border: 1px solid var(--primary-color);
        }
        
        .timeline {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            padding: 10px;
            border-top: 1px solid var(--border-color);
        }
        
        .timeline-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .timeline-slider {
            flex: 1;
            margin: 0 10px;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sol Panel -->
        <div class="left-panel">
            <div class="login-section">
                <h2>Admin Girişi</h2>
                <input type="password" id="password" placeholder="Şifre">
                <button id="login-btn">Giriş Yap</button>
            </div>
            
            <div class="session-section">
                <h2>Session Seçimi</h2>
                <select id="session-select">
                    <option value="">Session seçin...</option>
                </select>
                <div class="session-info" id="session-info">
                    <p><strong>IP:</strong> <span id="session-ip">-</span></p>
                    <p><strong>Konum:</strong> <span id="session-location">-</span></p>
                    <p><strong>Cihaz:</strong> <span id="session-device">-</span></p>
                    <p><strong>Ekran:</strong> <span id="session-screen">-</span></p>
                    <p><strong>Yükleme Zamanı:</strong> <span id="session-load-time">-</span></p>
                </div>
            </div>
            
            <div class="heatmap-section">
                <h2>Heatmap Ayarları</h2>
                <div class="checkbox-group">
                    <label>
                        <input type="checkbox" id="click-heatmap" checked>
                        <span style="color: #ff0000">Tıklama Heatmap (Kırmızı)</span>
                    </label>
                    <label>
                        <input type="checkbox" id="movement-heatmap" checked>
                        <span style="color: #00ff00">Hareket Heatmap (Yeşil)</span>
                    </label>
                    <label>
                        <input type="checkbox" id="selection-heatmap" checked>
                        <span style="color: #ffff00">Seçim Göstergesi (Sarı)</span>
                    </label>
                    <label>
                        <input type="checkbox" id="copy-heatmap" checked>
                        <span style="color: #ffa500">Kopyalama Göstergesi (Turuncu)</span>
                    </label>
                    <label>
                        <input type="checkbox" id="cursor-animation" checked>
                        <span style="color: #00ff00">Fare Hareketi Animasyonu</span>
                    </label>
                </div>
            </div>
            
            <div class="simulation-section">
                <h2>Simülasyon Kontrolleri</h2>
                <div class="simulation-controls">
                    <button id="start-simulation">Simülasyon Başlat</button>
                    <button id="pause-simulation">Duraklat</button>
                    <button id="reset-simulation">Sıfırla</button>
                </div>
                <div class="timeline">
                    <div class="timeline-controls">
                        <span id="current-time">00:00</span>
                        <input type="range" min="0" max="100" value="0" class="timeline-slider" id="timeline-slider">
                        <span id="total-time">00:00</span>
                    </div>
                </div>
            </div>
            
            <div class="stats-section">
                <h2>İstatistikler</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="total-clicks">0</div>
                        <div class="stat-label">Toplam Tıklama</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="total-movements">0</div>
                        <div class="stat-label">Fare Hareketi</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="total-scrolls">0</div>
                        <div class="stat-label">Kaydırma</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="total-selections">0</div>
                        <div class="stat-label">Metin Seçimi</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Sağ Panel -->
        <div class="right-panel">
            <div class="cv-container" id="cv-container">
                <!-- CV içeriği burada görünecek -->
                <div class="heatmap-overlay" id="heatmap-overlay"></div>
                <div class="cursor" id="cursor"></div>
            </div>
        </div>
    </div>

    <script>
        // Örnek veri
        const sampleData = {
            "totalSessions": 1,
            "lastUpdated": "2024-01-15T10:32:30.000Z",
            "cv_analytics": [
                {
                    "session": {
                        "sessionId": "session_1761045424027_m1tz1z97e",
                        "ipInfo": {
                            "ip": "88.227.76.219",
                            "hostname": "88.227.76.219.dynamic.ttnet.com.tr",
                            "city": "Ankara",
                            "region": "Ankara",
                            "country": "TR",
                            "loc": "39.9199,32.8543",
                            "org": "AS47331 TTNet A.S.",
                            "postal": "06420",
                            "timezone": "Europe/Istanbul"
                        },
                        "deviceInfo": {
                            "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",
                            "platform": "Win32",
                            "language": "tr-TR",
                            "screenWidth": 1536,
                            "screenHeight": 864,
                            "viewportWidth": 971,
                            "viewportHeight": 695,
                            "deviceType": "desktop"
                        },
                        "pageLoadTime": 1761045424027,
                        "interactions": [
                            {
                                "type": "page_load",
                                "timestamp": 1761045424071
                            },
                            {
                                "type": "visibility_change",
                                "state": "hidden",
                                "timestamp": 1761045427786
                            },
                            {
                                "type": "visibility_change",
                                "state": "visible",
                                "timestamp": 1761045454291
                            }
                        ],
                        "mouseMovements": [
                            {
                                "x": 446,
                                "y": 238,
                                "timestamp": 1761045426008,
                                "element": "DIV"
                            },
                            {
                                "x": 436,
                                "y": 349,
                                "timestamp": 1761045426529,
                                "element": "P"
                            },
                            {
                                "x": 444,
                                "y": 5,
                                "timestamp": 1761045426985,
                                "element": "BODY"
                            }
                        ],
                        "textSelections": [],
                        "clicks": [],
                        "keyStrokes": [],
                        "performance": {
                            "loadTime": -1761045423966,
                            "domReadyTime": -1761045423966,
                            "readyStart": 3,
                            "redirectTime": 0,
                            "appcacheTime": 0,
                            "unloadEventTime": 0,
                            "lookupDomainTime": 0,
                            "connectTime": 0,
                            "requestTime": 0,
                            "initDomTreeTime": 100,
                            "loadEventTime": 0
                        },
                        "pdfDownload": false
                    },
                    "timestamp": "2025-10-21T11:17:35.187Z"
                },
                {
                    "session": {
                        "sessionId": "session_1761045465323_i7x3w9zs0",
                        "ipInfo": {
                            "ip": "88.227.76.219",
                            "hostname": "88.227.76.219.dynamic.ttnet.com.tr",
                            "city": "Ankara",
                            "region": "Ankara",
                            "country": "TR",
                            "loc": "39.9199,32.8543",
                            "org": "AS47331 TTNet A.S.",
                            "postal": "06420",
                            "timezone": "Europe/Istanbul"
                        },
                        "deviceInfo": {
                            "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",
                            "platform": "Win32",
                            "language": "tr-TR",
                            "screenWidth": 1536,
                            "screenHeight": 864,
                            "viewportWidth": 1536,
                            "viewportHeight": 695,
                            "deviceType": "desktop"
                        },
                        "pageLoadTime": 1761045465323,
                        "interactions": [
                            {
                                "type": "page_load",
                                "timestamp": 1761045465345
                            },
                            {
                                "type": "click",
                                "tag": "P",
                                "id": "none",
                                "className": "none",
                                "timestamp": 1761045467776,
                                "x": 1216,
                                "y": 351
                            },
                            {
                                "type": "click",
                                "tag": "DIV",
                                "id": "none",
                                "className": "right-column",
                                "timestamp": 1761045470759,
                                "x": 367,
                                "y": 391
                            },
                            {
                                "type": "click",
                                "tag": "DIV",
                                "id": "none",
                                "className": "right-column",
                                "timestamp": 1761045470876,
                                "x": 367,
                                "y": 391
                            },
                            {
                                "type": "click",
                                "tag": "DIV",
                                "id": "none",
                                "className": "right-column",
                                "timestamp": 1761045471856,
                                "x": 404,
                                "y": 327
                            },
                            {
                                "type": "click",
                                "tag": "P",
                                "id": "none",
                                "className": "none",
                                "timestamp": 1761045472035,
                                "x": 485,
                                "y": 365
                            },
                            {
                                "type": "click",
                                "tag": "DIV",
                                "id": "none",
                                "className": "section",
                                "timestamp": 1761045472575,
                                "x": 620,
                                "y": 502
                            },
                            {
                                "type": "click",
                                "tag": "P",
                                "id": "none",
                                "className": "none",
                                "timestamp": 1761045473685,
                                "x": 476,
                                "y": 378
                            },
                            {
                                "type": "click",
                                "tag": "P",
                                "id": "none",
                                "className": "none",
                                "timestamp": 1761045474467,
                                "x": 504,
                                "y": 411
                            },
                            {
                                "type": "click",
                                "tag": "P",
                                "id": "none",
                                "className": "none",
                                "timestamp": 1761045479489,
                                "x": 655,
                                "y": 347
                            },
                            {
                                "type": "scroll",
                                "position": 4817.60009765625,
                                "maxScroll": 4818,
                                "timestamp": 1761045483992
                            },
                            {
                                "type": "pdf_download_click",
                                "timestamp": 1761045484732
                            },
                            {
                                "type": "click",
                                "tag": "BUTTON",
                                "id": "download-pdf",
                                "className": "btn",
                                "timestamp": 1761045484732,
                                "x": 426,
                                "y": 623
                            },
                            {
                                "type": "pdf_download_completed",
                                "timestamp": 1761045487741
                            }
                        ],
                        "mouseMovements": [
                            {
                                "x": 250,
                                "y": 409,
                                "timestamp": 1761045465714,
                                "element": "BODY"
                            },
                            {
                                "x": 250,
                                "y": 408,
                                "timestamp": 1761045465886,
                                "element": "BODY"
                            },
                            {
                                "x": 249,
                                "y": 407,
                                "timestamp": 1761045466028,
                                "element": "BODY"
                            },
                            {
                                "x": 1170,
                                "y": 371,
                                "timestamp": 1761045466725,
                                "element": "P"
                            },
                            {
                                "x": 1170,
                                "y": 371,
                                "timestamp": 1761045466946,
                                "element": "P"
                            },
                            {
                                "x": 1216,
                                "y": 351,
                                "timestamp": 1761045467848,
                                "element": "P"
                            },
                            {
                                "x": 367,
                                "y": 391,
                                "timestamp": 1761045470773,
                                "element": "DIV"
                            },
                            {
                                "x": 379,
                                "y": 315,
                                "timestamp": 1761045471470,
                                "element": "P"
                            },
                            {
                                "x": 374,
                                "y": 318,
                                "timestamp": 1761045471722,
                                "element": "DIV"
                            },
                            {
                                "x": 475,
                                "y": 375,
                                "timestamp": 1761045473815,
                                "element": "P"
                            },
                            {
                                "x": 504,
                                "y": 411,
                                "timestamp": 1761045474258,
                                "element": "P"
                            },
                            {
                                "x": 689,
                                "y": 366,
                                "timestamp": 1761045475657,
                                "element": "B"
                            },
                            {
                                "x": 964,
                                "y": 228,
                                "timestamp": 1761045476836,
                                "element": "HTML"
                            },
                            {
                                "x": 655,
                                "y": 347,
                                "timestamp": 1761045479344,
                                "element": "P"
                            },
                            {
                                "x": 491,
                                "y": 392,
                                "timestamp": 1761045480229,
                                "element": "P"
                            },
                            {
                                "x": 465,
                                "y": 408,
                                "timestamp": 1761045480730,
                                "element": "P"
                            },
                            {
                                "x": 426,
                                "y": 623,
                                "timestamp": 1761045484637,
                                "element": "BUTTON"
                            },
                            {
                                "x": 648,
                                "y": 264,
                                "timestamp": 1761045486014,
                                "element": "DIV"
                            }
                        ],
                        "textSelections": [
                            {
                                "text": "played",
                                "timestamp": 1761045470809,
                                "length": 6
                            },
                            {
                                "text": "I",
                                "timestamp": 1761045471800,
                                "length": 1
                            },
                            {
                                "text": "I",
                                "timestamp": 1761045471815,
                                "length": 1
                            },
                            {
                                "text": "I h",
                                "timestamp": 1761045471831,
                                "length": 3
                            },
                            {
                                "text": "I ha",
                                "timestamp": 1761045471839,
                                "length": 4
                            },
                            {
                                "text": "I hav",
                                "timestamp": 1761045471864,
                                "length": 5
                            },
                            {
                                "text": "b",
                                "timestamp": 1761045471885,
                                "length": 1
                            },
                            {
                                "text": "be",
                                "timestamp": 1761045471909,
                                "length": 2
                            },
                            {
                                "text": "been actively working in the information technology sector since 2002. I began my",
                                "timestamp": 1761045471957,
                                "length": 81
                            },
                            {
                                "text": "been actively working in the information technology sector since 2002. I began my",
                                "timestamp": 1761045471971,
                                "length": 81
                            },
                            {
                                "text": "been actively working in the information technology sector since 2002. I began my c",
                                "timestamp": 1761045471979,
                                "length": 83
                            },
                            {
                                "text": "been actively working in the information technology sector since 2002. I began my ca",
                                "timestamp": 1761045471987,
                                "length": 84
                            },
                            {
                                "text": "been actively working in the information technology sector since 2002. I began my car",
                                "timestamp": 1761045472003,
                                "length": 85
                            },
                            {
                                "text": "been actively working in the information technology sector since 2002. I began my career by receiving software education at a vocational high school and have held",
                                "timestamp": 1761045472019,
                                "length": 162
                            },
                            {
                                "text": "been actively working in the information technology sector since 2002. I began my career by receiving software education at a vocational high school and have held v",
                                "timestamp": 1761045472027,
                                "length": 164
                            },
                            {
                                "text": "been actively working in the information technology sector since 2002. I began my career by receiving software education at a vocational high school and have held va",
                                "timestamp": 1761045472048,
                                "length": 165
                            },
                            {
                                "text": "ive roles in both administrative and technical processes such as the design, reloc",
                                "timestamp": 1761045473358,
                                "length": 82
                            },
                            {
                                "text": "tive roles in both administrative and technical processes such as the design, reloc",
                                "timestamp": 1761045473364,
                                "length": 83
                            },
                            {
                                "text": "ctive roles in both administrative and technical processes such as the design, reloc",
                                "timestamp": 1761045473371,
                                "length": 84
                            },
                            {
                                "text": "ective roles in both administrative and technical processes such as the design, reloc",
                                "timestamp": 1761045473380,
                                "length": 85
                            },
                            {
                                "text": "ng and project planning. Additionally, I worked on the customer side, taking on effective roles in both administrative and technical processes such as the design, reloc",
                                "timestamp": 1761045473387,
                                "length": 168
                            },
                            {
                                "text": "ning and project planning. Additionally, I worked on the customer side, taking on effective roles in both administrative and technical processes such as the design, reloc",
                                "timestamp": 1761045473395,
                                "length": 170
                            },
                            {
                                "text": "ssioning and project planning. Additionally, I worked on the customer side, taking on effective roles in both administrative and technical processes such as the design, reloc",
                                "timestamp": 1761045473403,
                                "length": 174
                            },
                            {
                                "text": "issioning and project planning. Additionally, I worked on the customer side, taking on effective roles in both administrative and technical processes such as the design, reloc",
                                "timestamp": 1761045473411,
                                "length": 175
                            },
                            {
                                "text": "in all stages of post-sales processes, from the installation of products to their commissioning and project planning. Additionally, I worked on the customer side, taking on effective roles in both administrative and technical processes such as the design, reloc",
                                "timestamp": 1761045473419,
                                "length": 261
                            },
                            {
                                "text": "e in all stages of post-sales processes, from the installation of products to their commissioning and project planning. Additionally, I worked on the customer side, taking on effective roles in both administrative and technical processes such as the design, reloc",
                                "timestamp": 1761045473427,
                                "length": 263
                            },
                            {
                                "text": "le in all stages of post-sales processes, from the installation of products to their commissioning and project planning. Additionally, I worked on the customer side, taking on effective roles in both administrative and technical processes such as the design, reloc",
                                "timestamp": 1761045473435,
                                "length": 264
                            },
                            {
                                "text": "ole in all stages of post-sales processes, from the installation of products to their commissioning and project planning. Additionally, I worked on the customer side, taking on effective roles in both administrative and technical processes such as the design, reloc",
                                "timestamp": 1761045473443,
                                "length": 265
                            },
                            {
                                "text": "role in all stages of post-sales processes, from the installation of products to their commissioning and project planning. Additionally, I worked on the customer side, taking on effective roles in both administrative and technical processes such as the design, reloc",
                                "timestamp": 1761045473449,
                                "length": 266
                            },
                            {
                                "text": "role in all stages of post-sales processes, from the installation of products to their commissioning and project planning. Additionally, I worked on the customer side, taking on effective roles in both administrative and technical processes such as the design, reloc",
                                "timestamp": 1761045473457,
                                "length": 266
                            },
                            {
                                "text": "e role in all stages of post-sales processes, from the installation of products to their commissioning and project planning. Additionally, I worked on the customer side, taking on effective roles in both administrative and technical processes such as the design, reloc",
                                "timestamp": 1761045473515,
                                "length": 268
                            }
                        ],
                        "clicks": [
                            {
                                "type": "click",
                                "tag": "P",
                                "id": "none",
                                "className": "none",
                                "timestamp": 1761045467776,
                                "x": 1216,
                                "y": 351
                            },
                            {
                                "type": "click",
                                "tag": "DIV",
                                "id": "none",
                                "className": "right-column",
                                "timestamp": 1761045470759,
                                "x": 367,
                                "y": 391
                            },
                            {
                                "type": "click",
                                "tag": "DIV",
                                "id": "none",
                                "className": "right-column",
                                "timestamp": 1761045470876,
                                "x": 367,
                                "y": 391
                            },
                            {
                                "type": "click",
                                "tag": "DIV",
                                "id": "none",
                                "className": "right-column",
                                "timestamp": 1761045471856,
                                "x": 404,
                                "y": 327
                            },
                            {
                                "type": "click",
                                "tag": "P",
                                "id": "none",
                                "className": "none",
                                "timestamp": 1761045472035,
                                "x": 485,
                                "y": 365
                            },
                            {
                                "type": "click",
                                "tag": "DIV",
                                "id": "none",
                                "className": "section",
                                "timestamp": 1761045472575,
                                "x": 620,
                                "y": 502
                            },
                            {
                                "type": "click",
                                "tag": "P",
                                "id": "none",
                                "className": "none",
                                "timestamp": 1761045473685,
                                "x": 476,
                                "y": 378
                            },
                            {
                                "type": "click",
                                "tag": "P",
                                "id": "none",
                                "className": "none",
                                "timestamp": 1761045474467,
                                "x": 504,
                                "y": 411
                            },
                            {
                                "type": "click",
                                "tag": "P",
                                "id": "none",
                                "className": "none",
                                "timestamp": 1761045479489,
                                "x": 655,
                                "y": 347
                            },
                            {
                                "type": "click",
                                "tag": "BUTTON",
                                "id": "download-pdf",
                                "className": "btn",
                                "timestamp": 1761045484732,
                                "x": 426,
                                "y": 623
                            }
                        ],
                        "keyStrokes": [],
                        "performance": {
                            "loadTime": -1761045464835,
                            "domReadyTime": -1761045464835,
                            "readyStart": 10,
                            "redirectTime": 0,
                            "appcacheTime": 0,
                            "unloadEventTime": 0,
                            "lookupDomainTime": 0,
                            "connectTime": 0,
                            "requestTime": 192,
                            "initDomTreeTime": 305,
                            "loadEventTime": 0
                        },
                        "pdfDownload": true
                    },
                    "timestamp": "2025-10-21T11:18:08.521Z"
                }
            ],
            "total_sessions": 9,
            "last_updated": "2025-10-21T12:10:41.022Z"
        };

        // DOM Elementleri
        const loginBtn = document.getElementById('login-btn');
        const sessionSelect = document.getElementById('session-select');
        const sessionInfo = document.getElementById('session-info');
        const cvContainer = document.getElementById('cv-container');
        const heatmapOverlay = document.getElementById('heatmap-overlay');
        const cursor = document.getElementById('cursor');
        const startSimulationBtn = document.getElementById('start-simulation');
        const pauseSimulationBtn = document.getElementById('pause-simulation');
        const resetSimulationBtn = document.getElementById('reset-simulation');
        const timelineSlider = document.getElementById('timeline-slider');
        const currentTimeEl = document.getElementById('current-time');
        const totalTimeEl = document.getElementById('total-time');
        
        // Heatmap checkbox'ları
        const clickHeatmap = document.getElementById('click-heatmap');
        const movementHeatmap = document.getElementById('movement-heatmap');
        const selectionHeatmap = document.getElementById('selection-heatmap');
        const copyHeatmap = document.getElementById('copy-heatmap');
        const cursorAnimation = document.getElementById('cursor-animation');
        
        // İstatistik elementleri
        const totalClicksEl = document.getElementById('total-clicks');
        const totalMovementsEl = document.getElementById('total-movements');
        const totalScrollsEl = document.getElementById('total-scrolls');
        const totalSelectionsEl = document.getElementById('total-selections');
        
        // Session bilgisi elementleri
        const sessionIp = document.getElementById('session-ip');
        const sessionLocation = document.getElementById('session-location');
        const sessionDevice = document.getElementById('session-device');
        const sessionScreen = document.getElementById('session-screen');
        const sessionLoadTime = document.getElementById('session-load-time');
        
        // Değişkenler
        let currentSession = null;
        let isLoggedIn = false;
        let isSimulating = false;
        let simulationInterval;
        let currentSimulationTime = 0;
        let totalSimulationTime = 0;
        let events = [];
        
        // Giriş kontrolü
        loginBtn.addEventListener('click', () => {
            const password = document.getElementById('password').value;
            if (password === 'admin123') {
                isLoggedIn = true;
                document.querySelector('.login-section').style.display = 'none';
                loadSessions();
            } else {
                alert('Hatalı şifre!');
            }
        });
        
        // Session yükleme
        function loadSessions() {
            sampleData.cv_analytics.forEach(session => {
                const option = document.createElement('option');
                option.value = session.session.sessionId;
                option.textContent = `${session.session.sessionId} - ${session.session.ipInfo.city}, ${session.session.ipInfo.country}`;
                sessionSelect.appendChild(option);
            });
        }
        
        // Session seçimi
        sessionSelect.addEventListener('change', () => {
            const sessionId = sessionSelect.value;
            if (sessionId) {
                currentSession = sampleData.cv_analytics.find(s => s.session.sessionId === sessionId).session;
                displaySessionInfo();
                renderHeatmap();
                updateStats();
            }
        });
        
        // Session bilgilerini göster
        function displaySessionInfo() {
            sessionIp.textContent = currentSession.ipInfo.ip;
            sessionLocation.textContent = `${currentSession.ipInfo.city}, ${currentSession.ipInfo.region}, ${currentSession.ipInfo.country}`;
            sessionDevice.textContent = `${currentSession.deviceInfo.deviceType} - ${currentSession.deviceInfo.platform}`;
            sessionScreen.textContent = `${currentSession.deviceInfo.screenWidth}x${currentSession.deviceInfo.screenHeight}`;
            sessionLoadTime.textContent = new Date(currentSession.pageLoadTime).toLocaleString();
        }
        
        // Heatmap render etme
        function renderHeatmap() {
            heatmapOverlay.innerHTML = '';
            
            // Tıklamalar
            if (clickHeatmap.checked) {
                currentSession.clicks.forEach(click => {
                    const point = document.createElement('div');
                    point.className = 'heatmap-point click-point';
                    point.style.left = `${click.x}px`;
                    point.style.top = `${click.y}px`;
                    heatmapOverlay.appendChild(point);
                });
            }
            
            // Fare hareketleri
            if (movementHeatmap.checked) {
                currentSession.mouseMovements.forEach(movement => {
                    const point = document.createElement('div');
                    point.className = 'heatmap-point movement-point';
                    point.style.left = `${movement.x}px`;
                    point.style.top = `${movement.y}px`;
                    heatmapOverlay.appendChild(point);
                });
            }
            
            // Metin seçimleri (basit bir gösterim)
            if (selectionHeatmap.checked) {
                currentSession.textSelections.forEach(selection => {
                    // Gerçek bir uygulamada, seçilen metnin konumunu belirlemek gerekir
                    // Burada sadece örnek olarak rastgele bir konum gösteriyoruz
                    const highlight = document.createElement('div');
                    highlight.className = 'selection-highlight';
                    highlight.style.left = `${Math.random() * 500 + 100}px`;
                    highlight.style.top = `${Math.random() * 300 + 100}px`;
                    highlight.style.width = `${selection.length * 5}px`;
                    highlight.style.height = '20px';
                    heatmapOverlay.appendChild(highlight);
                });
            }
        }
        
        // İstatistikleri güncelle
        function updateStats() {
            totalClicksEl.textContent = currentSession.clicks.length;
            totalMovementsEl.textContent = currentSession.mouseMovements.length;
            totalScrollsEl.textContent = currentSession.interactions.filter(i => i.type === 'scroll').length;
            totalSelectionsEl.textContent = currentSession.textSelections.length;
        }
        
        // Simülasyon başlatma
        startSimulationBtn.addEventListener('click', () => {
            if (!currentSession) return;
            
            isSimulating = true;
            events = prepareEvents();
            totalSimulationTime = getTotalSimulationTime();
            
            // Timeline slider'ı ayarla
            timelineSlider.max = totalSimulationTime;
            totalTimeEl.textContent = formatTime(totalSimulationTime);
            
            // Simülasyonu başlat
            clearInterval(simulationInterval);
            simulationInterval = setInterval(simulate, 50);
        });
        
        // Simülasyonu duraklat
        pauseSimulationBtn.addEventListener('click', () => {
            isSimulating = !isSimulating;
            if (isSimulating) {
                simulationInterval = setInterval(simulate, 50);
                pauseSimulationBtn.textContent = 'Duraklat';
            } else {
                clearInterval(simulationInterval);
                pauseSimulationBtn.textContent = 'Devam Et';
            }
        });
        
        // Simülasyonu sıfırla
        resetSimulationBtn.addEventListener('click', () => {
            isSimulating = false;
            clearInterval(simulationInterval);
            currentSimulationTime = 0;
            timelineSlider.value = 0;
            currentTimeEl.textContent = '00:00';
            cursor.style.display = 'none';
            heatmapOverlay.innerHTML = '';
            pauseSimulationBtn.textContent = 'Duraklat';
        });
        
        // Timeline slider değişikliği
        timelineSlider.addEventListener('input', () => {
            if (!isSimulating) {
                currentSimulationTime = parseInt(timelineSlider.value);
                currentTimeEl.textContent = formatTime(currentSimulationTime);
                // Bu noktada, timeline'a göre heatmap'i güncellemek gerekir
            }
        });
        
        // Etkinlikleri hazırlama
        function prepareEvents() {
            const allEvents = [];
            
            // Tüm etkileşimleri birleştir
            if (currentSession.interactions) {
                currentSession.interactions.forEach(interaction => {
                    allEvents.push({
                        type: 'interaction',
                        data: interaction,
                        timestamp: interaction.timestamp - currentSession.pageLoadTime
                    });
                });
            }
            
            if (currentSession.mouseMovements) {
                currentSession.mouseMovements.forEach(movement => {
                    allEvents.push({
                        type: 'movement',
                        data: movement,
                        timestamp: movement.timestamp - currentSession.pageLoadTime
                    });
                });
            }
            
            // Zaman damgasına göre sırala
            allEvents.sort((a, b) => a.timestamp - b.timestamp);
            
            return allEvents;
        }
        
        // Toplam simülasyon süresini hesapla
        function getTotalSimulationTime() {
            if (events.length === 0) return 0;
            return events[events.length - 1].timestamp;
        }
        
        // Simülasyonu çalıştır
        function simulate() {
            if (!isSimulating) return;
            
            currentSimulationTime += 50;
            timelineSlider.value = currentSimulationTime;
            currentTimeEl.textContent = formatTime(currentSimulationTime);
            
            // Geçerli zaman dilimindeki olayları işle
            const currentEvents = events.filter(event => 
                event.timestamp <= currentSimulationTime && 
                event.timestamp > currentSimulationTime - 50
            );
            
            currentEvents.forEach(event => {
                switch (event.type) {
                    case 'movement':
                        if (cursorAnimation.checked) {
                            cursor.style.left = `${event.data.x}px`;
                            cursor.style.top = `${event.data.y}px`;
                            cursor.style.display = 'block';
                        }
                        break;
                    case 'interaction':
                        if (event.data.type === 'click') {
                            // Tıklama efekti
                            const clickEffect = document.createElement('div');
                            clickEffect.className = 'heatmap-point click-point';
                            clickEffect.style.left = `${event.data.x}px`;
                            clickEffect.style.top = `${event.data.y}px`;
                            heatmapOverlay.appendChild(clickEffect);
                            
                            // Tıklama efekti zamanla kaybolur
                            setTimeout(() => {
                                if (heatmapOverlay.contains(clickEffect)) {
                                    heatmapOverlay.removeChild(clickEffect);
                                }
                            }, 1000);
                        }
                        break;
                }
            });
            
            // Simülasyon sona erdi
            if (currentSimulationTime >= totalSimulationTime) {
                clearInterval(simulationInterval);
                isSimulating = false;
            }
        }
        
        // Zamanı formatlama
        function formatTime(milliseconds) {
            const seconds = Math.floor(milliseconds / 1000);
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }
        
        // Heatmap ayarları değiştiğinde
        clickHeatmap.addEventListener('change', renderHeatmap);
        movementHeatmap.addEventListener('change', renderHeatmap);
        selectionHeatmap.addEventListener('change', renderHeatmap);
        copyHeatmap.addEventListener('change', renderHeatmap);
        
        // Örnek CV içeriği (basit bir HTML)
        cvContainer.innerHTML = `
            <div style="padding: 40px; font-family: Arial, sans-serif; color: #333;">
                <h1 style="color: #2c3e50; border-bottom: 2px solid #3498db; padding-bottom: 10px;">Örnek CV</h1>
                
                <div style="display: flex; margin-top: 30px;">
                    <div style="flex: 1; padding-right: 20px;">
                        <h2 style="color: #3498db;">Kişisel Bilgiler</h2>
                        <p><strong>Ad Soyad:</strong> Ahmet Yılmaz</p>
                        <p><strong>E-posta:</strong> ahmet.yilmaz@example.com</p>
                        <p><strong>Telefon:</strong> +90 555 123 4567</p>
                        <p><strong>Adres:</strong> Ankara, Türkiye</p>
                        
                        <h2 style="color: #3498db; margin-top: 30px;">Beceriler</h2>
                        <ul>
                            <li>JavaScript</li>
                            <li>HTML/CSS</li>
                            <li>React</li>
                            <li>Node.js</li>
                            <li>Python</li>
                        </ul>
                    </div>
                    
                    <div style="flex: 2; border-left: 1px solid #ddd; padding-left: 20px;">
                        <h2 style="color: #3498db;">Deneyim</h2>
                        <div style="margin-bottom: 20px;">
                            <h3>Senior Yazılım Geliştirici - ABC Şirketi</h3>
                            <p><em>2020 - Günümüz</em></p>
                            <p>Web uygulamaları geliştirme, ekip liderliği, proje yönetimi</p>
                        </div>
                        
                        <div style="margin-bottom: 20px;">
                            <h3>Yazılım Geliştirici - XYZ Şirketi</h3>
                            <p><em>2017 - 2020</em></p>
                            <p>Frontend ve backend geliştirme, veritabanı yönetimi</p>
                        </div>
                        
                        <h2 style="color: #3498db; margin-top: 30px;">Eğitim</h2>
                        <div style="margin-bottom: 20px;">
                            <h3>Bilgisayar Mühendisliği - ODTÜ</h3>
                            <p><em>2013 - 2017</em></p>
                            <p>Lisans derecesi</p>
                        </div>
                        
                        <button id="download-pdf" class="btn" style="background-color: #3498db; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-top: 20px;">
                            PDF İndir
                        </button>
                    </div>
                </div>
            </div>
        `;
    </script>
</body>
</html>
