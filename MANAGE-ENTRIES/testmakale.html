<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Article Test â€“ Adem BayazÄ±t</title>

<link rel="icon" type="image/png" href="/IMAGES/ab.png">
<link rel="stylesheet" href="/CSS/style.css">
<link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
:root{
  --border-color: limegreen;
  --primary-color: limegreen;
  --text-color: #fff;
  --card-bg: rgba(0,0,0,.7);
}

.page-container{
  display:flex;
  max-width:1200px;
  margin:80px auto;
  padding:0 15px;
}

.main-content{
  flex:1;
  max-width:800px;
  margin:auto;
}

.entries-container{
  background:rgba(10,25,20,.7);
  border:1px solid var(--border-color);
  border-radius:20px;
  padding:20px;
  box-shadow:0 0 20px rgba(0,255,0,.15);
}

.article-title{
  font-size:28px;
  margin-bottom:5px;
}

.article-subtitle{
  font-size:15px;
  color:#90ee90;
  margin-bottom:15px;
}

.article-meta{
  font-size:12px;
  color:#90ee90;
  display:flex;
  gap:15px;
  margin-bottom:20px;
}

.article-cover img{
  width:100%;
  border-radius:10px;
  margin-bottom:20px;
  border:1px solid rgba(0,255,0,.3);
}

.content img{
  max-width:100%;
  border-radius:8px;
  margin:10px 0;
  cursor:pointer;
}

.image-slider{
  position:relative;
  overflow:hidden;
  border-radius:8px;
  aspect-ratio:16/9;
}

.slider-container{
  display:flex;
  transition:.4s;
}

.slider-item{
  min-width:100%;
}

.slider-item img{
  width:100%;
  height:100%;
  object-fit:cover;
}

.slider-nav{
  position:absolute;
  top:50%;
  width:100%;
  display:flex;
  justify-content:space-between;
  transform:translateY(-50%);
}

.slider-btn{
  background:rgba(0,0,0,.7);
  border:none;
  color:lime;
  font-size:24px;
  width:40px;
  height:40px;
  border-radius:50%;
  cursor:pointer;
}

.tag{
  display:inline-block;
  margin:5px 5px 0 0;
  padding:4px 10px;
  border-radius:20px;
  border:1px solid limegreen;
  font-size:12px;
  color:#90ee90;
}
</style>
</head>

<body>

<header class="header">
  <a href="/" class="logo">
    <img src="/IMAGES/hackerwhite.svg" style="height:24px"> {adembayazit}
  </a>
</header>

<div class="page-container">
<main class="main-content">

<a href="/" class="back-to-home">
  <i class="bx bx-arrow-back"></i> Back
</a>

<article class="entries-container" id="article">
  Loading articleâ€¦
</article>

</main>
</div>

<footer style="text-align:center;margin-top:40px">
<hr style="border-color:limegreen">
<p>Design & Code by <strong>Adem BayazÄ±t</strong></p>
</footer>

<!-- MODAL -->
<div id="imageModal" class="modal">
<span class="close">&times;</span>
<img class="modal-content" id="modalImage">
</div>

<script>
/* ================== CONFIG ================== */
const ARTICLE_BIN_ID = "695f155c43b1c97be920c28d";
const IMAGEKIT = "https://ik.imagekit.io/YOUR_IMAGEKIT_ID/";

/* ============ JSONBIN PROXY ============ */
async function fetchViaProxy(path, method="GET", body=null, binId=null){
  const proxy="https://adembayazit.netlify.app/.netlify/functions/jsonbin-proxy";
  const realPath=binId?`/b/${binId}${path}`:path;
  const r=await fetch(proxy,{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({path:realPath,method,body})
  });
  return r.json();
}

/* ============ SLIDER ============ */
function createSlider(images){
  const id="slider-"+Math.random().toString(36).slice(2);
  return `
  <div class="image-slider" id="${id}">
    <div class="slider-container">
      ${images.map(i=>`
        <div class="slider-item">
          <img src="${IMAGEKIT+i}">
        </div>`).join("")}
    </div>
    <div class="slider-nav">
      <button class="slider-btn" onclick="slide('${id}',-1)">â€¹</button>
      <button class="slider-btn" onclick="slide('${id}',1)">â€º</button>
    </div>
  </div>`;
}

function slide(id,dir){
  const s=document.getElementById(id);
  const c=s.querySelector(".slider-container");
  let i=s.dataset.i?+s.dataset.i:0;
  i=(i+dir+c.children.length)%c.children.length;
  c.style.transform=`translateX(-${i*100}%)`;
  s.dataset.i=i;
}

/* ============ MODAL ============ */
document.addEventListener("click",e=>{
  if(e.target.tagName==="IMG"){
    modalImage.src=e.target.src;
    imageModal.style.display="block";
  }
});
document.querySelector(".close").onclick=()=>imageModal.style.display="none";

/* ============ ARTICLE LOAD ============ */
async function loadArticle(){
  const slug=new URLSearchParams(location.search).get("slug");
  if(!slug) return;

  const data=await fetchViaProxy("/latest","GET",null,ARTICLE_BIN_ID);
  const a=data.articles.find(x=>x.slug===slug);
  if(!a){article.innerHTML="Not found";return;}

  article.innerHTML=`
    <h1 class="article-title">${a.title}</h1>
    <div class="article-subtitle">${a.subtitle}</div>
    <div class="article-meta">
      <span>${new Date(a.date).toLocaleDateString("tr-TR")}</span>
      <span>${a.reading_time}</span>
    </div>
    <div class="article-cover">
      <img src="${IMAGEKIT+a.cover}">
    </div>
    <div class="content">
      ${a.content}
      ${a.images?.length>1?createSlider(a.images):""}
    </div>
    <div>
      ${a.tags.map(t=>`<span class="tag">#${t}</span>`).join("")}
    </div>
    <div style="margin-top:15px;font-size:12px">
      ðŸŸ¦ Ä°lk olarak <a href="${a.source.url}" target="_blank">LinkedIn</a>'de yayÄ±nlandÄ±
    </div>
  `;
}

loadArticle();
</script>

</body>
</html>