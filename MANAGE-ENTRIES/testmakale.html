<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Makale | Adem Bayazıt</title>
<meta name="description" content="Adem Bayazıt – Siber Güvenlik, SOC, Blue Team teknik makaleleri">
<meta name="author" content="Adem Bayazıt">

<link rel="icon" type="image/png" href="/IMAGES/ab.png">
<link rel="stylesheet" href="/CSS/style.css">
<link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
/* ===== ARTICLE STYLES ===== */
.article-header h1{
  font-size:32px;
  margin-bottom:6px;
}
.article-subtitle{
  color:#90ee90;
  margin-bottom:10px;
}
.article-meta{
  font-size:13px;
  color:#90ee90;
  display:flex;
  gap:15px;
  flex-wrap:wrap;
  margin-bottom:20px;
}
.article-cover img{
  width:100%;
  border-radius:12px;
  border:1px solid rgba(0,255,0,.3);
  margin-bottom:25px;
}
.article-content{
  line-height:1.8;
  font-size:16px;
}
.article-content h2{
  margin-top:30px;
  color:lime;
}
.article-content img{
  width:100%;
  border-radius:8px;
  margin:15px 0;
  cursor:pointer;
}
.article-footer{
  margin-top:40px;
  padding-top:20px;
  border-top:1px solid rgba(0,255,0,.3);
}
.article-tags span{
  display:inline-block;
  margin:4px;
  padding:4px 10px;
  border:1px solid limegreen;
  border-radius:20px;
  font-size:12px;
  color:#90ee90;
}
.share-bar{
  display:flex;
  gap:15px;
  margin-top:20px;
}
.share-btn{
  cursor:pointer;
  padding:8px 14px;
  border-radius:20px;
  border:1px solid limegreen;
  display:flex;
  align-items:center;
  gap:6px;
}
.share-btn:hover{
  background:rgba(0,255,0,.15);
}
.author-box{
  margin-top:30px;
  padding:15px;
  border:1px solid rgba(0,255,0,.3);
  border-radius:12px;
  display:flex;
  gap:15px;
  align-items:center;
}
.author-box img{
  width:60px;
}
</style>
</head>

<body>

<!-- ===== MATRIX BACKGROUND ===== -->
<canvas id="matrixCanvas"></canvas>

<!-- ===== HEADER (AYNI) ===== -->
<header class="header">
  <div class="logo-container">
    <a href="/" class="logo">
      <img src="/IMAGES/hackerwhite.svg" class="hackerwhite-icon">
      {adembayazit}
    </a>
    <span class="logo-slogan">One step further every day…</span>
  </div>
</header>

<!-- ===== PAGE ===== -->
<div class="page-container">

<!-- LEFT SIDEBAR (AYNI) -->
<aside class="sidebar">
  <div class="sidebar-widget">
    <h3><i class="fas fa-book"></i> Articles</h3>
    <p style="font-size:14px;color:#90ee90">
      Uzun soluklu teknik analizler, saha notları ve araştırmalar.
    </p>
  </div>
</aside>

<!-- ===== MAIN ===== -->
<main class="main-content">

<a href="/articles.html" class="back-to-home">
  <i class="bx bx-arrow-back"></i> All Articles
</a>

<article class="entries-container" id="article">
  Loading article…
</article>

</main>

<!-- RIGHT SIDEBAR -->
<aside class="right-sidebar">
  <div class="sidebar-widget">
    <h3><i class="fas fa-share-alt"></i> Share</h3>
    <p style="font-size:13px;color:#90ee90">
      Bu makaleyi paylaş
    </p>
  </div>
</aside>

</div>

<!-- ===== FOOTER ===== -->
<footer style="text-align:center;padding:25px">
<hr style="border-color:limegreen">
<p>© Adem Bayazıt | Independent Researcher</p>
</footer>

<!-- ===== IMAGE MODAL ===== -->
<div id="imageModal" class="modal">
  <span class="close">&times;</span>
  <img class="modal-content" id="modalImage">
</div>

<script src="/JAVASCRIPT/matrix.js"></script>

<script>
/* ================= CONFIG ================= */
const ARTICLE_BIN_ID = "695f155c43b1c97be920c28d";
const IMAGEKIT_BASE = "https://ik.imagekit.io/IMAGEKIT_ID/";

/* ============ JSONBIN PROXY ============ */
async function fetchViaProxy(path, method="GET", body=null, binId=null){
  const proxy="https://adembayazit.netlify.app/.netlify/functions/jsonbin-proxy";
  const realPath=binId?`/b/${binId}${path}`:path;
  const r=await fetch(proxy,{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({path:realPath,method,body})
  });
  return r.json();
}

/* ============ IMAGE MODAL ============ */
document.addEventListener("click",e=>{
  if(e.target.tagName==="IMG"){
    modalImage.src=e.target.src;
    imageModal.style.display="block";
  }
});
document.querySelector(".close").onclick=()=>imageModal.style.display="none";

/* ============ SHARE ============ */
function shareArticle(){
  if(navigator.share){
    navigator.share({
      title:document.title,
      url:location.href
    });
  }else{
    navigator.clipboard.writeText(location.href);
    alert("Link kopyalandı");
  }
}

/* ============ LOAD ARTICLE ============ */
async function loadArticle(){
  const slug=new URLSearchParams(location.search).get("slug");
  if(!slug) return;

  const data=await fetchViaProxy("/latest","GET",null,ARTICLE_BIN_ID);
  const a=data.articles.find(x=>x.slug===slug);

  if(!a){
    article.innerHTML="Article not found";
    return;
  }

  document.title = a.title+" | Adem Bayazıt";

  article.innerHTML=`
  <div class="article-header">
    <h1>${a.title}</h1>
    <div class="article-subtitle">${a.subtitle}</div>
    <div class="article-meta">
      <span><i class="fa fa-calendar"></i> ${new Date(a.date).toLocaleDateString("tr-TR")}</span>
      <span><i class="fa fa-clock"></i> ${a.reading_time}</span>
      <span><i class="fa fa-eye"></i> Research Article</span>
    </div>
  </div>

  <div class="article-cover">
    <img src="${IMAGEKIT_BASE+a.cover}">
  </div>

  <div class="article-content">
    ${a.content}
  </div>

  <div class="article-footer">
    <div class="article-tags">
      ${a.tags.map(t=>`<span>#${t}</span>`).join("")}
    </div>

    <div class="share-bar">
      <div class="share-btn" onclick="shareArticle()">
        <i class="fa fa-share"></i> Share
      </div>
      <a class="share-btn" href="${a.source.url}" target="_blank">
        <i class="fa-brands fa-linkedin"></i> LinkedIn
      </a>
    </div>

    <div class="author-box">
      <img src="/IMAGES/hackerwhite.svg">
      <div>
        <strong>Adem Bayazıt</strong><br>
        <span style="font-size:13px;color:#90ee90">
          Cybersecurity Researcher · SOC · Blue Team
        </span>
      </div>
    </div>
  </div>
  `;
}

document.addEventListener("DOMContentLoaded", loadArticle);
</script>

</body>
</html>